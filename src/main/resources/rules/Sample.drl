package com.sample
import com.sample.AfterWorkDrink;

 
declare Pytanie
   pytanie : String
   odpowiedzi : Object[]
   udzielona_odpowiedz : String
end
declare Odpowiedz
	odpowiedz : String
	ikona : String
end

rule "Init"
	when
	then
		Pytanie p = new Pytanie("Przyk³adowe pytanie?", new Object[]{"Yes","No"},"");

		String answer = AfterWorkDrink.AskQuestion(p.getPytanie(), p.getOdpowiedzi());
		p.setUdzielona_odpowiedz(answer);
		insert(p);
end

rule "SECOND"
	when
		p: Pytanie(pytanie == "Przyk³adowe pytanie?", udzielona_odpowiedz == "Yes")
	then
		Pytanie p2 = new Pytanie("drugie", new Object[]{"Oczywiœcie","No"},"");
		String answer = AfterWorkDrink.AskQuestion(p2.getPytanie(), p2.getOdpowiedzi());
		p2.setUdzielona_odpowiedz(answer);
		insert(p2);
end

rule "THIRD"
	when
		p: Pytanie(pytanie == "drugie", udzielona_odpowiedz == "Oczywiœcie")
	then
		Pytanie p2 = new Pytanie("trzecie pytanie", new Object[]{"Yes","No"},"");
		String answer = AfterWorkDrink.AskQuestion(p2.getPytanie(), p2.getOdpowiedzi());
		p2.setUdzielona_odpowiedz(answer);
		insert(p2);
end

rule "ODP"
	when
		p: Pytanie(pytanie == "trzecie pytanie", udzielona_odpowiedz == "Yes")
	then
		Odpowiedz o = new Odpowiedz("Cudowna odpowiedz", "icons/martini.jpg");
		insert(o);
		AfterWorkDrink.ShowAnswer(o.getOdpowiedz(), o.getIkona());
end
